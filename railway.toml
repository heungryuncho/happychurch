[build]
builder = "NIXPACKS"
watchPatterns = ["backend/**"]
# 빌드 명령어가 실행될 작업 디렉토리를 backend로 고정합니다.
buildCommand = "cd backend && pip install -r requirements.txt"

[deploy]
# 실행 또한 backend 폴더 안에서 이루어지도록 경로를 조정합니다.
startCommand = "cd backend && uvicorn main:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"

[env]
PORT = "8000"
PYTHON_VERSION = "3.12"
